# CSS Import Structure - Refactor Plan

## Váº¥n Ä‘á» hiá»‡n táº¡i:

### 1. Duplicate imports:
- **Google Fonts** Ä‘Æ°á»£c import 3 láº§n:
  - `src/index.css` (line 1)
  - `src/app.css` (line 5)
  - `src/styles/globals.css` (line 77)

### 2. File compiled khÃ´ng nÃªn commit:
- `src/index.css` (4156 lines) - ÄÃ¢y lÃ  **OUTPUT** cá»§a Tailwind compiler
- File nÃ y Ä‘Æ°á»£c generate tá»± Ä‘á»™ng, khÃ´ng nÃªn edit manual

### 3. Layout import chain:
```
app/layout.tsx
  â””â”€ import '../src/index.css'
       â””â”€ Contains: Fonts + Full Tailwind (4156 compiled lines)
```

### 4. Files thá»«a:
- `src/app.css` (89 lines) - duplicate Tailwind directives
- `src/styles/globals.css` (443 lines) - cÃ³ custom CSS tá»‘t nhÆ°ng khÃ´ng Ä‘Æ°á»£c import

---

## âœ… GIáº¢I PHÃP: Option 1 - Single Clean Entry Point

### BÆ°á»›c 1: Táº¡o file globals.css má»›i
**Location**: `app/globals.css` (táº¡o má»›i)

**Content**:
```css
/* Google Fonts - Import má»™t láº§n duy nháº¥t */
@import url("https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700;800;900&display=swap");

/* Tailwind directives - sáº½ Ä‘Æ°á»£c compile bá»Ÿi Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* CSS Variables tá»« src/styles/globals.css */
  :root {
    --background: #ffffff;
    --foreground: #09090b;
    /* ... copy all vars from src/styles/globals.css ... */
  }

  .dark {
    --background: #0c1118;
    /* ... copy dark mode vars ... */
  }

  body {
    letter-spacing: var(--tracking-normal);
  }
}

/* Custom CSS - Container, animations, etc. */
.container {
  width: 100%;
  max-width: 1280px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* ... copy all custom CSS from src/styles/globals.css ... */
```

### BÆ°á»›c 2: Update app/layout.tsx
**Thay Ä‘á»•i**:
```tsx
// âŒ CÅ¨
import '../src/index.css'

// âœ… Má»šI
import './globals.css'
```

### BÆ°á»›c 3: ThÃªm src/index.css vÃ o .gitignore
**File**: `.gitignore`
```
# Tailwind compiled output
src/index.css
```

### BÆ°á»›c 4: XÃ³a cÃ¡c file khÃ´ng cáº§n thiáº¿t
```bash
# Backup trÆ°á»›c khi xÃ³a (optional)
git mv src/app.css src/app.css.backup

# XÃ³a files
rm src/app.css
# KHÃ”NG xÃ³a src/styles/globals.css - dÃ¹ng lÃ m reference
```

### BÆ°á»›c 5: Rebuild project
```bash
# XÃ³a .next vÃ  node_modules/.cache
rm -rf .next
rm -rf node_modules/.cache

# Rebuild
npm run build
# hoáº·c
npm run dev
```

---

## ğŸ“ Cáº¥u trÃºc sau khi refactor:

```
app/
  â”œâ”€ layout.tsx (import './globals.css')
  â””â”€ globals.css (SOURCE - ~500 lines, cÃ³ custom CSS)

src/
  â”œâ”€ index.css (IGNORED - auto-generated by Tailwind)
  â””â”€ styles/
      â””â”€ globals.css (GIá»® Láº I Ä‘á»ƒ reference, khÃ´ng import)

tailwind.config.js (unchanged)
.gitignore (+ src/index.css)
```

---

## ğŸ” Kiá»ƒm tra sau khi refactor:

1. **Dev server cháº¡y OK**: `npm run dev`
2. **Build thÃ nh cÃ´ng**: `npm run build`
3. **Styles hiá»ƒn thá»‹ Ä‘Ãºng**: Check homepage
4. **No duplicate fonts**: DevTools â†’ Network â†’ chá»‰ tháº¥y 1 request Google Fonts
5. **File size giáº£m**: Bundle size nhá» hÆ¡n

---

## âš ï¸ LÆ¯U Ã:

- `src/index.css` sáº½ Ä‘Æ°á»£c Tailwind tá»± Ä‘á»™ng táº¡o láº¡i má»—i láº§n build
- KHÃ”NG edit `src/index.css` manual - má»i thay Ä‘á»•i sáº½ bá»‹ ghi Ä‘Ã¨
- Má»i custom CSS pháº£i viáº¿t trong `app/globals.css`
- Náº¿u cáº§n thÃªm CSS: Edit `app/globals.css` â†’ rebuild

---

## ğŸ¯ Káº¿t quáº£ mong Ä‘á»£i:

âœ… Google Fonts chá»‰ load 1 láº§n  
âœ… Tailwind compiled 1 láº§n duy nháº¥t  
âœ… Bundle size giáº£m ~40%  
âœ… Dá»… maintain - 1 file source rÃµ rÃ ng  
âœ… Git clean - khÃ´ng commit compiled files  

